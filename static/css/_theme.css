/* Global Color Variables */

:root {
  /* Light Theme Color Palette (Default) */
  --primary-green: #28a745;
  --emerald-green: #2ecc71;
  --secondary-gold: #ffd700;
  --secondary-amber: #f0ad4e;
  --tertiary-teal: #17a2b8;
  --warning-yellow-orange: #ffc107;
  --danger-red: #dc3545;
  --color-white: #ffffff;
  --color-dark-gray: #212529;
  --color-lighter-gray: #e9ecef;
  --color-light-gray: #dee2e6;
  --color-medium-gray: #ced4da;
  --color-gray-dark-bootstrap: #6c757d;
  --color-gray-light-border: #adb5bd;

  /* RGB variables for your theme colors */
  --primary-green-rgb: 40, 167, 69;
  --emerald-green-rgb: 46, 204, 113;

  /* Semantic Theme Colors */
  --body-bg-color: var(--color-white);
  --navbar-bg-color: transparent;
  --sidebar-bg-color: var(--color-white);
  --card-bg-color: var(--color-white);
  --text-color: var(--color-dark-gray);
  --link-color: var(--primary-green);
  --link-hover-color: var(--emerald-green);
  --sidebar-item-hover-bg: rgba(40, 167, 69, 0.1);
  --sidebar-shadow-color: rgba(0, 0, 0, 0.15);
  --card-shadow-color: rgba(0, 0, 0, 0.15);
  --tooltip-bg-color: var(--color-dark-gray);
  --tooltip-text-color: var(--color-white);
  --navbar-input-bg-color: var(--color-light-gray);

  /* Bootstrap Global Variable Overrides */
  --bs-primary: var(--primary-green);
  --bs-secondary: var(--color-gray-dark-bootstrap);
  --bs-success: var(--primary-green);
  --bs-danger: var(--danger-red);
  --bs-warning: var(--warning-yellow-orange);
  --bs-info: var(--tertiary-teal);
  --bs-body-color: var(--text-color);
  --bs-body-bg: var(--body-bg-color);

  /* Set Bootstrap's primary RGB variable from your custom RGB variable */
  --bs-primary-rgb: var(--primary-green-rgb);
  --bs-success-rgb: var(--primary-green-rgb);

  /* Customize Focus Ring Color for Light Theme */
  --bs-focus-ring-color: transparent;

  /* Bootstrap Primary Button Overrides */
  --bs-btn-color: var(--color-white);
  --bs-btn-bg: var(--primary-green);
  --bs-btn-border-color: var(--primary-green);
  --bs-btn-hover-color: var(--color-white);
  --bs-btn-hover-bg: var(--emerald-green);
  --bs-btn-hover-border-color: var(--emerald-green);
  --bs-btn-focus-shadow-rgb: var(--primary-green-rgb);
  --bs-btn-active-color: var(--color-white);
  --bs-btn-active-bg: var(--emerald-green);
  --bs-btn-active-border-color: var(--emerald-green);
  --bs-btn-disabled-color: var(--color-white);
  --bs-btn-disabled-bg: var(--primary-green);
  --bs-btn-disabled-border-color: var(--primary-green);

  /* Bootstrap Secondary Button Overrides */
  --bs-btn-secondary-color: var(--text-color);
  --bs-btn-secondary-bg: var(
    --card-bg-color
  ); /* This will now be medium-gray */
  --bs-btn-secondary-border-color: var(--color-medium-gray);
  --bs-btn-secondary-hover-color: var(--link-hover-color);
  --bs-btn-secondary-hover-bg: rgba(40, 167, 69, 0.1);
  --bs-btn-secondary-hover-border-color: var(--primary-green);
  --bs-btn-secondary-active-color: var(--link-color);
  --bs-btn-secondary-active-bg: var(--sidebar-item-hover-bg);
  --bs-btn-secondary-active-border-color: var(--link-color);
  --bs-btn-secondary-disabled-color: var(--text-color);
  --bs-btn-secondary-disabled-bg: var(--card-bg-color);
  --bs-btn-secondary-disabled-border-color: var(--color-gray-light-border);

  body {
    background-color: var(--body-bg-color);
    background-image: url("/static/images/patterns/topography.svg");
  }
}

[data-bs-theme="dark"] {
  /* Dark Theme Color Palette (no changes here as requested) */
  --primary-green: #1e8449;
  --emerald-green: #27ae60;
  --secondary-gold: #d4af37;
  --secondary-amber: #d68910;
  --tertiary-teal: #137989;
  --warning-yellow-orange: #d39e00;
  --danger-red: #b02a37;
  --color-dark-gray: #212529;
  --color-light-gray: #f8f9fa;
  --color-medium-gray: #495057;
  --color-gray-light-border: #6c757d;

  /* RGB variables for your dark theme colors */
  --primary-green-rgb: 30, 132, 73;
  --emerald-green-rgb: 39, 174, 96;

  /* Semantic Theme Colors */
  --body-bg-color: var(--color-dark-gray);
  --navbar-bg-color: transparent;
  --sidebar-bg-color: #343a40;
  --card-bg-color: #343a40;
  --text-color: var(--color-light-gray);
  --link-color: var(--primary-green);
  --link-hover-color: var(--emerald-green);
  --sidebar-item-hover-bg: rgba(46, 204, 113, 0.2);
  --sidebar-shadow-color: rgba(0, 0, 0, 0.3);
  --card-shadow-color: rgba(0, 0, 0, 0.3);
  --tooltip-bg-color: var(--color-light-gray);
  --tooltip-text-color: var(--color-dark-gray);
  --navbar-input-bg-color: var(--color-medium-gray);

  /* Bootstrap Global Variable Overrides */
  --bs-primary: var(--primary-green);
  --bs-success: var(--primary-green);
  --bs-danger: var(--danger-red);
  --bs-warning: var(--warning-yellow-orange);
  --bs-info: var(--tertiary-teal);
  --bs-body-color: var(--text-color);
  --bs-body-bg: var(--body-bg-color);

  /* Set Bootstrap's primary RGB variable from your custom RGB variable for dark theme */
  --bs-primary-rgb: var(--primary-green-rgb);
  --bs-success-rgb: var(--primary-green-rgb);

  /* Customize Focus Ring Color for Dark Theme */
  --bs-focus-ring-color: transparent;

  /* Bootstrap Primary Button Overrides */
  --bs-btn-bg: var(--primary-green);
  --bs-btn-border-color: var(--primary-green);
  --bs-btn-hover-bg: var(--emerald-green);
  --bs-btn-hover-border-color: var(--emerald-green);
  --bs-btn-active-bg: var(--emerald-green);
  --bs-btn-active-border-color: var(--emerald-green);
  --bs-btn-disabled-bg: var(--primary-green);
  --bs-btn-disabled-border-color: var(--primary-green);

  /* Bootstrap Secondary Button Overrides */
  --bs-btn-secondary-color: var(--text-color);
  --bs-btn-secondary-bg: var(--sidebar-bg-color);
  --bs-btn-secondary-border-color: var(--color-medium-gray);
  --bs-btn-secondary-hover-color: var(--link-hover-color);
  --bs-btn-secondary-hover-bg: var(--sidebar-item-hover-bg);
  --bs-btn-secondary-hover-border-color: var(--primary-green);
  --bs-btn-secondary-active-color: var(--link-color);
  --bs-btn-secondary-active-bg: var(--sidebar-item-hover-bg);
  --bs-btn-secondary-active-border-color: var(--link-color);
  --bs-btn-secondary-disabled-color: var(--text-color);
  --bs-btn-secondary-disabled-bg: var(--sidebar-bg-color);
  --bs-btn-secondary-disabled-border-color: var(--color-gray-light-border);

  /* --- NEW ADDITIONS FOR DARK THEME ACTIVE LINK CONSISTENCY --- */
  /* These target Bootstrap's default nav-link active states */
  --bs-nav-link-color: var(--color-white);
  --bs-nav-link-hover-color: var(--link-hover-color);
  --bs-nav-link-active-color: var(
    --color-white
  ); /* Ensures active nav link text is white */
  --bs-nav-link-active-bg: var(
    --primary-green
  ); /* Ensures active nav link background is primary green */
}

/* Ensure .btn-success explicitly uses your primary green variables in Light Mode */
.btn-success {
  --bs-btn-bg: var(--primary-green);
  --bs-btn-border-color: var(--primary-green);
  --bs-btn-hover-bg: var(--emerald-green);
  --bs-btn-hover-border-color: var(--emerald-green);
  --bs-btn-focus-shadow-rgb: var(--primary-green-rgb);
  --bs-btn-active-bg: var(--emerald-green);
  --bs-btn-active-border-color: var(--emerald-green);
  --bs-btn-disabled-bg: var(--primary-green);
  --bs-btn-disabled-border-color: var(--primary-green);
}

/* Ensure .btn-success explicitly uses your primary green variables in Dark Mode */
[data-bs-theme="dark"] .btn-success {
  --bs-btn-bg: var(--primary-green);
  --bs-btn-border-color: var(--primary-green);
  --bs-btn-hover-bg: var(--emerald-green);
  --bs-btn-hover-border-color: var(--emerald-green);
  --bs-btn-focus-shadow-rgb: var(--primary-green-rgb);
  --bs-btn-active-bg: var(--emerald-green);
  --bs-btn-active-border-color: var(--emerald-green);
  --bs-btn-disabled-bg: var(--primary-green);
  --bs-btn-disabled-border-color: var(--primary-green);
}
