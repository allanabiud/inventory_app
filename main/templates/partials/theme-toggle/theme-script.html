<script>
      (() => {
        const getStoredTheme = () => localStorage.getItem("theme");
        const getPreferredTheme = () => {
          const stored = getStoredTheme();
          if (stored) return stored;
          return window.matchMedia("(prefers-color-scheme: dark)").matches
            ? "dark"
            : "light";
        };
        document.documentElement.setAttribute("data-bs-theme", getPreferredTheme());
      })();
</script>
